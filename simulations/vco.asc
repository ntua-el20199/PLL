Version 4.1
SHEET 1 1008 680
WIRE 544 -1088 512 -1088
WIRE 672 -1088 624 -1088
WIRE 272 -1056 240 -1056
WIRE 384 -1056 336 -1056
WIRE 464 -1056 464 -1104
WIRE 608 -1008 576 -1008
WIRE 608 -992 608 -1008
WIRE 0 -960 -16 -960
WIRE 128 -960 80 -960
WIRE 320 -960 320 -976
WIRE 576 -944 576 -1008
WIRE 320 -928 320 -960
WIRE 464 -928 464 -976
WIRE 512 -928 512 -1088
WIRE 512 -928 464 -928
WIRE 544 -928 512 -928
WIRE -16 -912 -16 -960
WIRE -16 -912 -48 -912
WIRE 128 -912 128 -960
WIRE 240 -912 240 -1056
WIRE 240 -912 128 -912
WIRE 288 -912 240 -912
WIRE 672 -912 672 -1088
WIRE 672 -912 608 -912
WIRE 720 -912 672 -912
WIRE 384 -896 384 -1056
WIRE 384 -896 352 -896
WIRE 544 -896 384 -896
WIRE 160 -880 128 -880
WIRE 288 -880 160 -880
WIRE 464 -880 464 -928
WIRE -16 -864 -16 -912
WIRE 0 -864 -16 -864
WIRE 128 -864 128 -880
WIRE 128 -864 80 -864
WIRE 576 -864 576 -880
WIRE 240 -848 240 -912
WIRE 576 -848 576 -864
WIRE -48 -832 -80 -832
WIRE 320 -816 320 -864
WIRE -80 -800 -80 -832
WIRE 160 -800 160 -880
WIRE 464 -768 464 -800
WIRE -80 -688 -80 -720
WIRE 672 -688 672 -912
WIRE 672 -688 288 -688
WIRE -64 -640 -96 -640
WIRE -96 -608 -96 -640
WIRE 160 -592 160 -720
WIRE 240 -592 240 -672
WIRE -96 -496 -96 -528
FLAG 464 -768 0
FLAG 240 -592 0
FLAG 160 -592 0
FLAG 320 -816 0
FLAG -96 -496 0
FLAG -80 -688 0
FLAG -64 -640 Vcc
FLAG -48 -832 Vctrl
FLAG -48 -912 Vctrl
FLAG 320 -960 Vcc
FLAG 608 -992 0
FLAG 576 -864 Vcc
FLAG 720 -912 OUT
FLAG 464 -1104 Vcc
SYMBOL res 480 -784 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value {Rst}
SYMBOL res 528 -1072 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R11
SYMATTR Value {Rst}
SYMBOL res 96 -976 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value {R2}
SYMBOL res 96 -880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value {R}
SYMBOL res 176 -704 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value {R}
SYMBOL res 256 -752 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R15
SYMATTR Value {R}
SYMBOL cap 336 -1072 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {C}
SYMBOL OpAmps\\UniversalOpAmp2 320 -896 R0
SYMATTR InstName U1
SYMBOL OpAmps\\UniversalOpAmp2 576 -912 M180
SYMATTR InstName U3
SYMBOL nmos 288 -768 M0
SYMATTR InstName M1
SYMBOL res 480 -1072 M0
SYMATTR InstName R2
SYMATTR Value {Rst}
SYMBOL voltage -80 -816 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {Vcontrol}
SYMBOL voltage -96 -624 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
TEXT 472 -632 Left 2 !.include LM324.lib
TEXT 472 -584 Left 2 !.tran 0 10m
TEXT 472 -608 Left 2 !.include BS170.lib
TEXT -48 -1328 Left 2 !.param R 20K
TEXT -48 -1296 Left 2 !.param R2 2*R
TEXT -48 -1248 Left 2 !.param C 1p
TEXT -48 -1376 Left 2 !.param Rst 100K
TEXT 312 -1384 Left 2 ;.step param R 5K 100K 10K
TEXT -48 -1192 Left 2 !.param Vcontrol 5V
TEXT 312 -1296 Left 2 !.meas TRAN t1 TRIG V(out)=2.5 RISE=100\n.meas TRAN t2 TRIG V(out)=2.5 RISE=101\n \n.meas TRAN period PARAM='t2 - t1'\n.meas TRAN freq PARAM {-1 / period}
TEXT 312 -1352 Left 2 ;.step param C 0.01p 1n 100p
