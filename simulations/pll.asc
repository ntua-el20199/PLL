Version 4.1
SHEET 1 1288 1376
WIRE -2384 -688 -2416 -688
WIRE -2336 -688 -2384 -688
WIRE -2976 -656 -2976 -672
WIRE -2336 -640 -2336 -688
WIRE -2976 -608 -2976 -656
WIRE -2976 -608 -3120 -608
WIRE -2416 -592 -2416 -624
WIRE -3120 -528 -3120 -608
WIRE -3072 -528 -3120 -528
WIRE -2560 -528 -2880 -528
WIRE -2336 -512 -2336 -560
WIRE -1456 -480 -1488 -480
WIRE -1344 -480 -1392 -480
WIRE -2544 -464 -2880 -464
WIRE -2416 -464 -2416 -528
WIRE -2416 -464 -2464 -464
WIRE -2400 -464 -2416 -464
WIRE -1904 -432 -2064 -432
WIRE -1984 -400 -1984 -416
WIRE -1840 -384 -1856 -384
WIRE -1712 -384 -1760 -384
WIRE -1408 -384 -1408 -400
WIRE -1984 -368 -1984 -400
WIRE -2064 -352 -2064 -432
WIRE -2016 -352 -2064 -352
WIRE -1408 -352 -1408 -384
WIRE -2848 -336 -2864 -336
WIRE -2720 -336 -2736 -336
WIRE -2560 -336 -2560 -528
WIRE -2560 -336 -2608 -336
WIRE -1904 -336 -1904 -432
WIRE -1904 -336 -1952 -336
WIRE -1856 -336 -1856 -384
WIRE -1856 -336 -1904 -336
WIRE -1712 -336 -1712 -384
WIRE -1488 -336 -1488 -480
WIRE -1488 -336 -1712 -336
WIRE -1440 -336 -1488 -336
WIRE -2976 -320 -2976 -384
WIRE -2848 -320 -2848 -336
WIRE -2720 -320 -2720 -336
WIRE -2336 -320 -2336 -416
WIRE -2224 -320 -2336 -320
WIRE -2128 -320 -2224 -320
WIRE -2016 -320 -2128 -320
WIRE -1344 -320 -1344 -480
WIRE -1344 -320 -1376 -320
WIRE -1328 -320 -1344 -320
WIRE -1184 -320 -1200 -320
WIRE -2848 -304 -2848 -320
WIRE -2848 -304 -2864 -304
WIRE -2720 -304 -2720 -320
WIRE -2720 -304 -2736 -304
WIRE -2560 -304 -2608 -304
WIRE -1568 -304 -1712 -304
WIRE -1440 -304 -1568 -304
WIRE -1856 -288 -1856 -336
WIRE -1840 -288 -1856 -288
WIRE -1712 -288 -1712 -304
WIRE -1712 -288 -1760 -288
WIRE -2976 -272 -2976 -320
WIRE -1488 -272 -1488 -336
WIRE -2128 -256 -2128 -320
WIRE -2336 -240 -2336 -320
WIRE -1408 -240 -1408 -288
WIRE -1984 -224 -1984 -304
WIRE -1568 -224 -1568 -304
WIRE -2560 -192 -2560 -304
WIRE -2544 -192 -2560 -192
WIRE -2416 -192 -2464 -192
WIRE -2400 -192 -2416 -192
WIRE -2224 -176 -2224 -320
WIRE -3072 -160 -3136 -160
WIRE -1488 -160 -1488 -192
WIRE -2416 -144 -2416 -192
WIRE -3072 -128 -3120 -128
WIRE -2560 -128 -2560 -192
WIRE -2560 -128 -2880 -128
WIRE -2128 -128 -2128 -192
WIRE -2336 -96 -2336 -144
WIRE -1184 -80 -1184 -320
WIRE -1184 -80 -1440 -80
WIRE -3120 -48 -3120 -128
WIRE -2976 -48 -3120 -48
WIRE -2416 -48 -2416 -80
WIRE -2976 -32 -2976 -48
WIRE -1568 -16 -1568 -144
WIRE -1488 -16 -1488 -64
WIRE -2976 0 -2976 -32
WIRE -2224 16 -2224 -112
WIRE -2128 16 -2128 -48
WIRE -1968 16 -1968 0
WIRE -1552 16 -1552 -16
WIRE -2416 32 -2416 16
WIRE -2336 32 -2336 -16
WIRE -2336 32 -2416 32
WIRE -2336 80 -2336 32
WIRE -2064 96 -2160 96
WIRE -1648 96 -1744 96
WIRE -1648 128 -1872 128
WIRE -1184 128 -1184 -80
WIRE -1184 128 -1456 128
WIRE -3136 160 -3136 -160
WIRE -2064 160 -3136 160
WIRE -1824 160 -1872 160
WIRE -1648 160 -1648 128
WIRE -1408 160 -1456 160
WIRE -1968 256 -1968 240
WIRE -1552 256 -1552 240
WIRE -1968 272 -1968 256
WIRE -1552 272 -1552 256
WIRE -3120 288 -3120 224
WIRE -3008 288 -3008 224
WIRE -2160 304 -2160 96
WIRE -1824 304 -1824 160
WIRE -1824 304 -2160 304
WIRE -1744 304 -1744 96
WIRE -1408 304 -1408 160
WIRE -1408 304 -1744 304
WIRE -3120 464 -3120 368
WIRE -3008 464 -3008 368
FLAG -3120 464 0
FLAG -3120 224 Vcc
FLAG -1488 -16 0
FLAG -1568 -16 0
FLAG -1408 -240 0
FLAG -2336 80 0
FLAG -2128 16 0
FLAG -2224 16 0
FLAG -1984 -224 0
FLAG -3008 464 0
FLAG -2976 -32 Vcc
FLAG -2976 -656 Vcc
FLAG -2384 -688 Vcc
FLAG -3008 224 Uin
FLAG -3072 -496 Uin
FLAG -1904 -336 Vctrl
FLAG -1984 -400 Vcc
FLAG -1408 -384 Vcc
FLAG -1552 -16 Vcc
FLAG -1552 256 Vcc
FLAG -1968 0 Vcc
FLAG -1968 256 Vcc
FLAG -1184 -320 OUT
SYMBOL voltage -3120 272 R0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL res -1744 -400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {R2}
SYMBOL res -1744 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value {R}
SYMBOL res -1552 -128 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R13
SYMATTR Value {R}
SYMBOL res -1472 -176 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value {R}
SYMBOL cap -1392 -496 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {C2}
SYMBOL 74hct00 -2912 -384 M0
SYMATTR InstName U1
SYMBOL 74hct00 -2784 -384 M0
SYMATTR InstName U2
SYMBOL 74hct00 -2656 -384 M0
SYMATTR InstName U3
SYMBOL 74hct74 -2976 -48 M180
SYMATTR InstName U9
SYMBOL 74hct74 -2976 -608 R0
SYMATTR InstName U10
SYMBOL diode -2400 -688 M0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res -2352 -656 R0
SYMATTR InstName R1
SYMATTR Value 33K
SYMBOL res -2448 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 47K
SYMBOL res -2448 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 47K
SYMBOL diode -2400 -592 M0
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode -2400 -144 M0
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode -2400 -48 M0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL res -2352 -112 R0
SYMATTR InstName R4
SYMATTR Value 33K
SYMBOL cap -2240 -176 R0
SYMATTR InstName C1
SYMATTR Value 47n
SYMBOL cap -2144 -256 R0
SYMATTR InstName C3
SYMATTR Value 470n
SYMBOL res -2144 -144 R0
SYMATTR InstName R5
SYMATTR Value 33K
SYMBOL 74hct14 -1280 -384 R0
SYMATTR InstName U12
SYMBOL voltage -3008 272 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 5 0 100p 100p {Thalf} {T})
SYMBOL npn -2400 -240 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL pnp -2400 -416 M180
SYMATTR InstName Q2
SYMATTR Value 2N2907
SYMBOL 74hct74 -1552 240 R180
SYMATTR InstName U4
SYMBOL 74hct74 -1968 240 R180
SYMATTR InstName U5
SYMBOL OpAmps\\UniversalOpAmp2 -1984 -336 R0
SYMATTR InstName U8
SYMBOL OpAmps\\UniversalOpAmp2 -1408 -320 R0
SYMATTR InstName U6
SYMBOL nmos -1440 -160 M0
SYMATTR InstName M1
TEXT -2472 264 Left 2 !.include 74hct.lib
TEXT -2472 296 Left 2 !.tran 0 0.4 0 100n
TEXT -2472 200 Left 2 !.include LM324.lib
TEXT -2472 232 Left 2 !.include BS170.lib
TEXT -1712 -472 Left 2 !.param C2 1p\n.param R 20K\n.param R2 2*R
TEXT -2472 352 Left 2 !.param freq 125K
TEXT -2472 384 Left 2 !.param T 1/freq\n.param Thalf T/2
TEXT -2264 -664 Left 2 !.meas TRAN tperiod TRIGV(out)=2.5 TD=300ms RISE=1 TARG V(out)=2.5 TD=300ms RISE=2\n.meas TRAN FREQ PARAM 1/tperiod
